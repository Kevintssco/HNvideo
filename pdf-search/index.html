<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>å‚µåˆ¸å–®å¼µæœå°‹å·¥å…·</title>

  <!-- ğŸš« å‘Šè¨´æœå°‹å¼•æ“ä¸è¦æ”¶éŒ„é€™å€‹é é¢ï¼ˆä¿å¯†ç”¨é€”ï¼‰ -->
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <meta name="bingbot" content="noindex, nofollow">

  <!-- ğŸ¨ ======================= [CSS å€å¡Š] =======================
       CSSï¼ˆCascading Style Sheetsï¼‰æ˜¯ã€Œæ¨£å¼è¡¨ã€ï¼Œ
       ç”¨ä¾†æ§åˆ¶é é¢çš„å¤–è§€ï¼šé¡è‰²ã€å­—å‹ã€é–“è·ã€æ’ç‰ˆã€æŒ‰éˆ•æ¨£å¼ç­‰ç­‰ã€‚
       ========================================================= -->
  <style>
    /* è¨­å®šæ•´é«”é é¢èƒŒæ™¯ã€å­—å‹ã€æ–‡å­—é¡è‰² */
    body {
      font-family: "Segoe UI", "Noto Sans TC", system-ui, -apple-system, sans-serif;
      background: #f7f9fb; /* æ·ºç°è—èƒŒæ™¯ */
      color: #333;          /* ä¸»è¦æ–‡å­—é¡è‰² */
      margin: 0;
      padding: 0;
    }

    /* ä¸»è¦å…§å®¹å¤–æ¡†å®¹å™¨ */
    .container {
      max-width: 760px;                      /* é é¢å¯¬åº¦ä¸Šé™ */
      margin: 80px auto;                     /* å‚ç›´ç½®ä¸­ */
      background: #fff;                      /* ç™½åº• */
      border-radius: 16px;                   /* åœ“è§’é‚Šæ¡† */
      box-shadow: 0 6px 20px rgba(0,0,0,0.08);/* æŸ”å’Œé™°å½± */
      padding: 40px 48px;                    /* å…§è· */
    }

    /* æ¨™é¡Œæ¨£å¼ */
    h2 {
      text-align: center;
      color: #1a365d;
      font-size: 1.6em;
      margin-bottom: 32px;
    }

    /* æœå°‹åˆ—ï¼ˆè¼¸å…¥æ¡†ï¼‹æŒ‰éˆ•ï¼‰çš„æ©«å‘æ’åˆ— */
    .row {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    /* æœå°‹æ¡†çš„å¤–è§€ */
    input {
      flex: 1;                     /* è®“è¼¸å…¥æ¡†è‡ªå‹•ä½”æ»¿å¯¬åº¦ */
      padding: 12px 16px;
      border: 1px solid #cbd5e0;
      border-radius: 8px;
      transition: all 0.25s ease;  /* èšç„¦æ™‚æœ‰å‹•ç•« */
    }

    /* ç•¶ä½¿ç”¨è€…é»é¸è¼¸å…¥æ¡†æ™‚çš„æ•ˆæœï¼ˆè—è‰²å¤–æ¡†ï¼‰ */
    input:focus {
      border-color: #3182ce;
      box-shadow: 0 0 0 3px rgba(49,130,206,0.2);
      outline: none;
    }

    /* æœå°‹æŒ‰éˆ•å¤–è§€ */
    button {
      padding: 11px 25px;
      background: #2b6cb0;
      border: none;
      border-radius: 8px;
      color: #fff;
      cursor: pointer;
      transition: all 0.25s ease;
    }

    button:hover {
      background: #093974; /* æ»‘é¼ ç§»ä¸Šå»æœƒè®Šæ·±è‰² */
    }

    /* é¡¯ç¤ºç‹€æ…‹è³‡è¨Šï¼ˆä¾‹å¦‚ï¼šè³‡æ–™è¼‰å…¥ä¸­ã€æ‰¾åˆ°å¹¾ç­†ï¼‰ */
    .status {
      margin-top: 16px;
      color: #555;
      font-size: 0.95em;
    }

    /* æœå°‹çµæœçš„å¡ç‰‡æ¨£å¼ */
    .result {
      background: #f9fafb;
      margin-top: 16px;
      padding: 14px 18px;
      border: 1px solid #e2e8f0;
      border-radius: 10px;
      transition: background 0.2s ease;
    }

    .result:hover {
      background: #edf2f7; /* æ»‘é¼ ç§»ä¸Šå»è®Šäº®ä¸€é» */
    }

    /* é å°¾æ¨£å¼ */
    footer {
      text-align: center;
      color: #718096;
      font-size: 0.85em;
      margin-top: 48px;
    }

    /* ğŸ“± æ‰‹æ©Ÿç‰ˆéŸ¿æ‡‰å¼ï¼šç•«é¢çª„æ™‚è‡ªå‹•ç¸®æ’ */
    @media (max-width: 600px) {
      .container {
        margin: 32px 16px;
        padding: 28px;
      }
    }
  </style>
</head>

<!-- ğŸ§± ======================= [HTML å€å¡Š] =======================
     HTMLï¼ˆHyperText Markup Languageï¼‰æ˜¯æ•´å€‹é é¢çš„ã€Œéª¨æ¶ã€ã€‚
     å®ƒæ±ºå®šæœ‰å“ªäº›æ±è¥¿è¦å‡ºç¾åœ¨ç•«é¢ä¸Šã€‚
     ========================================================== -->
<body>
  <div class="container">
    <!-- ä¸»æ¨™é¡Œ -->
    <h2>ğŸ” å‚µåˆ¸å–®å¼µæœå°‹å·¥å…·</h2>

    <!-- æœå°‹åˆ—ï¼šè¼¸å…¥æ¡† + æŒ‰éˆ• -->
    <div class="row">
      <!-- è¼¸å…¥æ¡† -->
      <input id="search" placeholder="è¼¸å…¥æ¨™çš„åç¨±æˆ–ä»£è™Ÿï¼Œä¾‹å¦‚ï¼š3Mã€MMMâ€¦" />
      <!-- æŒ‰éˆ• -->
      <button id="btn">æœå°‹</button>
    </div>

    <!-- é¡¯ç¤ºç‹€æ…‹å€ï¼ˆä¾‹å¦‚ã€Œè³‡æ–™è¼‰å…¥å®Œæˆã€æˆ–ã€Œå…±æ‰¾åˆ° X ç­†ã€ï¼‰ -->
    <div class="status" id="status">æ­£åœ¨è¼‰å…¥è³‡æ–™â€¦</div>

    <!-- æœå°‹çµæœé¡¯ç¤ºå€ -->
    <div id="results"></div>

    <!-- é å°¾ -->
    <footer>Â© å°æ–°è­‰åˆ¸ B2B Team è£½ä½œ</footer>
  </div>

  <!-- âš™ï¸ ======================= [JavaScript å€å¡Š] =======================
       JavaScriptï¼ˆJSï¼‰æ˜¯ç”¨ä¾†è®“é é¢ã€Œå‹•èµ·ä¾†ã€çš„ç¨‹å¼é‚è¼¯ã€‚
       å®ƒè² è²¬ï¼š
         âœ… å¾ index.json è¼‰å…¥è³‡æ–™
         âœ… æ¥æ”¶æœå°‹é—œéµå­—
         âœ… ç¯©é¸å‡ºç¬¦åˆçš„çµæœ
         âœ… æŠŠçµæœé¡¯ç¤ºåˆ°ç¶²é ä¸Š
       =============================================================== -->
  <script>
  let data = [];
  let loaded = false;

  function renderList(list, message) {
    const box = document.getElementById('results');
    const status = document.getElementById('status');

    if (!list || list.length === 0) {
      status.textContent = message || 'â€” æ²’æœ‰æ‰¾åˆ°çµæœ â€”';
      box.innerHTML = '<p>â€” æ²’æœ‰æ‰¾åˆ°çµæœ â€”</p>';
      return;
    }

    status.textContent = message || `å…± ${list.length} ç­†ã€‚`;
    box.innerHTML = list.map(r => `
      <div class="result">
        <b>${r.name || '(æœªå‘½å)'}</b><br>
        ğŸ“„ <a href="${r.url || '#'}" target="_blank" rel="noopener">é»æ­¤é–‹å•Ÿæª”æ¡ˆ</a>
      </div>
    `).join('');
  }

  async function loadData() {
    const status = document.getElementById('status');

    // 1) å…ˆå˜—è©¦æŠ“ index.jsonï¼ˆé©ç”¨ http/https ä¼ºæœå™¨ï¼‰
    try {
      const res = await fetch('index.json', { cache: 'no-store' });
      if (!res.ok) throw new Error(`HTTP ${res.status}`);
      const d = await res.json();
      return normalizeData(d);
    } catch (err) {
      console.warn('[index.json] è¼‰å…¥å¤±æ•—ï¼Œæ”¹ç”¨å…§åµŒå‚™æ´è³‡æ–™ï¼š', err);
      // 2) å…§åµŒå‚™æ´ï¼ˆé©ç”¨ file:// æˆ–æ²’æœ‰ä¼ºæœå™¨æ™‚ï¼‰
      const seed = document.getElementById('seed');
      if (seed?.textContent?.trim()) {
        try {
          const d = JSON.parse(seed.textContent);
          status.textContent = 'âš ï¸ æœªèƒ½è®€å– index.jsonï¼Œå·²æ”¹ç”¨é é¢å…§åµŒçš„å‚™æ´è³‡æ–™ã€‚';
          return normalizeData(d);
        } catch (e) {
          throw new Error('å…§åµŒå‚™æ´è³‡æ–™æ ¼å¼ä¸æ˜¯æœ‰æ•ˆ JSONã€‚');
        }
      }
      throw new Error('æ‰¾ä¸åˆ° index.json ä¸”æ²’æœ‰å…§åµŒå‚™æ´è³‡æ–™ã€‚');
    }
  }

  function normalizeData(d) {
    const arr = Array.isArray(d) ? d : [];
    const out = arr.map(x => ({
      name: (x && x.name) || '',
      url: (x && x.url) || '#',
      alias: Array.isArray(x?.alias) ? x.alias : []
    }));
    out.sort((a, b) => a.name.localeCompare(b.name, 'zh-Hant'));
    return out;
  }

  function searchNow() {
    const input = document.getElementById('search');
    const q = (input.value || '').trim().toLowerCase();

    if (!loaded) {
      renderList([], 'è³‡æ–™æœªè¼‰å…¥ã€‚');
      return;
    }

    if (!q) {
      renderList(data, `ç›®å‰é¡¯ç¤ºå…¨éƒ¨ï¼ˆ${data.length} ç­†ï¼‰`);
      return;
    }

    const res = data.filter(x => {
      const name = (x.name || '').toLowerCase();
      const aliases = (x.alias || []).map(a => (a || '').toLowerCase());
      return name.includes(q) || aliases.some(a => a.includes(q));
    });

    renderList(res, `æ ¹æ“šæœå°‹ï¼Œå…±æœ‰ ${res.length} ç­†ç¬¦åˆã€‚`);
  }

  // ç¶å®šäº‹ä»¶
  document.getElementById('btn').addEventListener('click', searchNow);
  document.getElementById('search').addEventListener('keydown', e => {
    if (e.key === 'Enter') searchNow();
  });
  document.getElementById('search').addEventListener('input', e => {
    if (e.target.value.trim() === '' && loaded) {
      renderList(data, `ç›®å‰é¡¯ç¤ºå…¨éƒ¨ï¼ˆ${data.length} ç­†ï¼‰`);
    }
  });

  // æ”¯æ´ ?q=
  const params = new URLSearchParams(location.search);
  const preset = params.get('q');
  if (preset) {
    document.getElementById('search').value = decodeURIComponent(preset);
  }

  // å•Ÿå‹•ï¼šè¼‰å…¥è³‡æ–™ â†’ åˆå§‹æ¸²æŸ“ï¼ˆå…¨éƒ¨ï¼‰ â†’ è‹¥æœ‰ ?q= å†åšä¸€æ¬¡æœå°‹
  (async () => {
    const status = document.getElementById('status');
    try {
      data = await loadData();
      loaded = true;
      status.textContent = `è³‡æ–™è¼‰å…¥å®Œæˆï¼ˆå…± ${data.length} ç­†ï¼‰ã€‚`;
      renderList(data, `ç›®å‰é¡¯ç¤ºå…¨éƒ¨ï¼ˆ${data.length} ç­†ï¼‰`);
      if (preset) searchNow();
    } catch (err) {
      loaded = false;
      console.error(err);
      status.textContent = `âŒ è³‡æ–™è¼‰å…¥å¤±æ•—ï¼š${err.message}`;
      document.getElementById('results').innerHTML = '<p>è«‹ç¢ºèª index.json ä½ç½®/æ ¼å¼ï¼Œæˆ–ä½¿ç”¨å…§åµŒå‚™æ´è³‡æ–™ã€‚</p>';
    }
  })();
</script>

<!-- âœ… å…§åµŒå‚™æ´è³‡æ–™ï¼ˆè«‹æ›æˆä½ çš„çœŸå¯¦æ¸…å–®ï¼›ä¸éœ€è¦å°±ç•™ç©ºé™£åˆ— []ï¼‰ -->
<script id="seed" type="application/json">
[
  { "name": "3M (MMM) å…¬å¸ç°¡å ±", "url": "docs/MMM.pdf", "alias": ["MMM","3M","æ˜å°¼è˜‡é”ç¤¦æ¥­"] },
  { "name": "Verizon (VZ) å‚µåˆ¸å–®å¼µ", "url": "docs/VZ.pdf",  "alias": ["VZ","Verizon","å¨ç‘æ£®"] }
]
</script>

</body>
</html>
